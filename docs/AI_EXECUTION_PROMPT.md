# AI実行用プロンプト: ファンドデータ収集と分析

## プロンプト全文

以下のプロンプトをAIエージェントに送信することで、データ収集から分析まで全自動で実行できます。

---

```
あなたは統計専門家として、日本籍の米国株式アクティブ投資信託のパフォーマンス検証プロジェクトを実行してください。

## プロジェクト概要

GitHubリポジトリ: https://github.com/bigGYZstar/Funds

このリポジトリには、ファンドパフォーマンス検証のための完全なフレームワークが含まれています。あなたのタスクは、公開情報からデータを収集し、分析を実行し、レポートを作成することです。

## 実行手順

### フェーズ1: リポジトリのクローンと理解

1. GitHubリポジトリをクローンしてください
2. 以下のドキュメントを読んで、プロジェクトの全体像を理解してください:
   - README.md
   - data_requirements.md
   - docs/data_collection_workflow.md
   - docs/framework_overview.md

### フェーズ2: データ収集戦略の決定

`docs/data_collection_workflow.md`に記載されている制約事項を確認し、以下のいずれかのアプローチを選択してください:

**アプローチA: サンプルデータでのプロトタイプ実行（推奨）**
- 代表的なファンド15～20本を手動で選定
- 基本情報と月次リターンを手動入力
- 分析フレームワークの動作確認

**アプローチB: 公開情報からの部分的データ収集**
- Yahoo!ファイナンスから取得可能なファンドのデータを収集
- PDFから情報を抽出
- 可能な範囲でデータを自動収集

**アプローチC: ユーザーへのデータ提供依頼**
- データ収集の制約を説明
- 必要なデータ仕様を提示
- ユーザーからのデータ提供を待つ

### フェーズ3: データ収集の実行

選択したアプローチに基づき、以下のファイルを作成してください:

1. `data/fund_attributes.csv`
   - ファンドの基本属性情報
   - 仕様は`data_requirements.md`を参照

2. `data/monthly_returns.csv`
   - 月次リターンデータ（36か月以上）
   - 仕様は`data_requirements.md`を参照

3. `data/data_sources.txt`
   - データ取得元の記録
   - データ取得日の記録

### フェーズ4: データ品質チェック

1. `scripts/fund_performance_analysis.py`を実行
2. データクレンジング結果を確認:
   - 除外ファンドリスト
   - 異常値リスト
3. 必要に応じてデータを修正

### フェーズ5: メイン分析の実行

1. 基準日を設定（BASE_DATE変数を編集）
2. `scripts/fund_performance_analysis.py`を実行
3. 出力ファイルを確認:
   - annualized_returns_3y.csv
   - summary_statistics.csv
   - statistical_tests.csv
   - ranking_active_hedge_*.csv

### フェーズ6: ロバストネス分析の実行

1. `scripts/robustness_analysis.py`を実行
2. 出力ファイルを確認:
   - rolling_36month_analysis.csv
   - rolling_analysis_summary.csv

### フェーズ7: 可視化の作成

1. `scripts/visualization.py`を実行
2. 出力グラフを確認:
   - ヒストグラム
   - 箱ひげ図
   - ローリング超過リターン推移
   - 比較バーチャート

### フェーズ8: レポート作成

以下の2つのレポートを作成してください:

1. **エグゼクティブサマリー** (`output/executive_summary.md`)
   - 2～4ページ
   - 主結論
   - 統計的有意性
   - 実務的含意

2. **本編レポート** (`output/full_report.md`)
   - 詳細な分析結果
   - すべての表と図
   - 制約と限界

### フェーズ9: GitHubへのコミット

1. すべての出力ファイルをコミット
2. レポートをコミット
3. Issue #1（データ収集と準備）をクローズ
4. Issue #2～#6の進捗を更新

## 重要な注意事項

1. **スクレイピング禁止**: 投資信託協会のサイトから自動データ収集は禁止されています
2. **データ品質**: 36か月のトラックレコード要件を厳守してください
3. **統計的厳密性**: すべての計算式は依頼書に完全準拠してください
4. **再現性**: すべての手順を記録し、再現可能にしてください

## 成果物

最終的に以下のファイルをGitHubリポジトリにコミットしてください:

- `data/fund_attributes.csv`
- `data/monthly_returns.csv`
- `data/data_sources.txt`
- `output/annualized_returns_3y.csv`
- `output/summary_statistics.csv`
- `output/statistical_tests.csv`
- `output/ranking_active_hedge_*.csv`
- `output/rolling_36month_analysis.csv`
- `output/rolling_analysis_summary.csv`
- `output/*.png`（すべてのグラフ）
- `output/executive_summary.md`
- `output/full_report.md`

## 質問や問題が発生した場合

1. `docs/`ディレクトリ内のドキュメントを参照
2. `CONTRIBUTING.md`のガイドラインに従う
3. GitHubのIssueで質問を投稿

それでは、プロジェクトを開始してください。頑張ってください！
```

---

## 使用方法

### ステップ1: プロンプトのコピー

上記のプロンプト全文（```で囲まれた部分）をコピーしてください。

### ステップ2: AIエージェントへの送信

コピーしたプロンプトを、以下のいずれかのAIエージェントに送信してください:

- **Manus AI**: 推奨（GitHubとの統合、ブラウザ操作、コード実行が可能）
- **Claude with Computer Use**: GitHubとブラウザ操作が可能な場合
- **ChatGPT with Code Interpreter**: コード実行が可能な場合

### ステップ3: AIの実行を監視

AIエージェントが各フェーズを実行する様子を監視し、必要に応じて以下のサポートを提供してください:

- データソースへのアクセス情報
- 手動収集が必要な場合のデータ提供
- エラーが発生した場合のトラブルシューティング

### ステップ4: 成果物の確認

AIが完了したら、GitHubリポジトリで以下を確認してください:

- すべての出力ファイルがコミットされているか
- レポートが作成されているか
- Issueが適切に更新されているか

---

## カスタマイズオプション

### オプション1: サンプルデータのみで実行

プロンプトに以下を追加:

```
注意: データ収集の制約により、サンプルデータ（15～20本のファンド）のみで分析を実行してください。代表的なアクティブファンドとパッシブファンドを選定し、手動でデータを入力してください。
```

### オプション2: 特定のデータソースを指定

プロンプトに以下を追加:

```
データソース: Yahoo!ファイナンスから取得可能なファンドのみを対象としてください。ティッカーシンボルは以下の通りです:
- [ティッカーリスト]
```

### オプション3: 段階的実行

プロンプトを複数のパートに分割し、各フェーズごとに実行:

**パート1: データ収集のみ**
```
フェーズ1～3のみを実行し、データファイルを作成してください。
```

**パート2: 分析のみ**
```
既存のデータファイルを使用して、フェーズ4～7を実行してください。
```

**パート3: レポート作成のみ**
```
既存の分析結果を使用して、フェーズ8を実行してください。
```

---

## トラブルシューティング

### 問題1: データ収集ができない

**原因**: スクレイピング禁止、APIの制約

**解決策**:
1. サンプルデータでのプロトタイプ実行に切り替え
2. ユーザーにデータ提供を依頼
3. 有料データサービスの利用を検討

### 問題2: 分析スクリプトがエラーを出す

**原因**: データフォーマットの不一致、依存パッケージの不足

**解決策**:
1. `data_requirements.md`の仕様を再確認
2. `requirements.txt`のパッケージをインストール
3. エラーメッセージを確認し、該当箇所を修正

### 問題3: GitHubへのプッシュができない

**原因**: 認証エラー、権限不足

**解決策**:
1. GitHub CLIで認証を確認: `gh auth status`
2. リポジトリの権限を確認
3. 必要に応じて手動でプッシュ

---

## 期待される実行時間

| フェーズ | 所要時間（自動） | 所要時間（手動含む） |
|---------|----------------|---------------------|
| フェーズ1: リポジトリ理解 | 5分 | 15分 |
| フェーズ2: 戦略決定 | 2分 | 10分 |
| フェーズ3: データ収集 | 10分（自動可能な場合） | 2～4日（手動） |
| フェーズ4: 品質チェック | 5分 | 30分 |
| フェーズ5: メイン分析 | 5分 | 5分 |
| フェーズ6: ロバストネス分析 | 10分 | 10分 |
| フェーズ7: 可視化 | 5分 | 5分 |
| フェーズ8: レポート作成 | 20分 | 1～2時間 |
| フェーズ9: コミット | 5分 | 5分 |
| **合計** | **1時間** | **2～5日** |

**注**: 自動実行の所要時間は、データが自動収集可能な場合の想定です。

---

## 成功基準

以下の条件をすべて満たした場合、プロジェクトは成功とみなされます:

- [ ] `data/fund_attributes.csv`が仕様に準拠している
- [ ] `data/monthly_returns.csv`が仕様に準拠している
- [ ] 各ファンドに36か月以上のデータがある
- [ ] すべての分析スクリプトが正常に実行される
- [ ] 統計検定結果が妥当である
- [ ] すべてのグラフが生成されている
- [ ] エグゼクティブサマリーが作成されている
- [ ] 本編レポートが作成されている
- [ ] すべてのファイルがGitHubにコミットされている
- [ ] Issueが適切に更新されている

---

**作成者**: Manus AI
